# –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ Railway

## –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã**:
   ```bash
   git add .
   git commit -m "Prepare for Railway deployment"
   git push
   ```

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Railway Dashboard

1. **–ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)** –∏ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç**:
   - –ù–∞–∂–º–∏—Ç–µ "New Project"
   - –í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `abbos-khamidov/Saas-finance`

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Backend (Django)**:
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Python –ø—Ä–æ–µ–∫—Ç
   - –ï—Å–ª–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª:
     - **Root Directory**: `backend`
     - **Start Command**: `python manage.py migrate && gunicorn finance_api.wsgi:application --bind 0.0.0.0:$PORT`
     - **Build Command**: `pip install -r requirements.txt && python manage.py collectstatic --noinput`

4. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   - Settings ‚Üí Variables ‚Üí Add Variable
   - –î–æ–±–∞–≤—å—Ç–µ:
     ```
     SECRET_KEY=<—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á –º–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤>
     DEBUG=False
     ALLOWED_HOSTS=*.railway.app
     ```

5. **–î–æ–±–∞–≤—å—Ç–µ PostgreSQL** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
   - Settings ‚Üí Database ‚Üí Add PostgreSQL
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç –ë–î
   - –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL` –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

6. **Generate Domain**:
   - Settings ‚Üí Generate Domain
   - –ü–æ–ª—É—á–∏—Ç–µ URL: `https://your-app.up.railway.app`

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend (React)

**–í–∞—Ä–∏–∞–Ω—Ç A: –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è Frontend (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. –í —Ç–æ–º –∂–µ –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞ Railway —Å–æ–∑–¥–∞–π—Ç–µ **–Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å**:
   - "New" ‚Üí "GitHub Repo" ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ç –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Frontend —Å–µ—Ä–≤–∏—Å–∞**:
   - **Root Directory**: `.` (–∫–æ—Ä–µ–Ω—å)
   - **Build Command**: `npm install && npm run build`
   - **Start Command**: `npx serve -s dist -l $PORT` (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥)
   - **Output Directory**: `dist`

3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Frontend**:
   ```
   VITE_API_URL=https://your-backend-service.railway.app/api
   PORT=3000
   ```

**–í–∞—Ä–∏–∞–Ω—Ç B: Frontend —á–µ—Ä–µ–∑ Django (–º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π)**

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≤—Å–µ –≤ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ:
- –°–æ–±–µ—Ä–∏—Ç–µ React: `npm run build`
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `dist/*` –≤ `backend/static/`
- Django –±—É–¥–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. ‚úÖ Backend API: `https://your-app.up.railway.app/api/`
2. ‚úÖ Frontend: `https://your-app.up.railway.app/` (–∏–ª–∏ URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å–∞)
3. ‚úÖ –†–æ—É—Ç–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ `SECRET_KEY`:

```bash
python -c "import secrets; print(secrets.token_urlsafe(50))"
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä: https://djecrety.ir/

## Troubleshooting

### –û—à–∏–±–∫–∞: "No module named 'gunicorn'"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `gunicorn` –≤ `requirements.txt`

### –û—à–∏–±–∫–∞: "Static files not found"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `whitenoise` –≤ `requirements.txt`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python manage.py collectstatic --noinput` –≤ build command

### –û—à–∏–±–∫–∞: "Database connection failed"
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç PostgreSQL –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ Database
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### Frontend –Ω–µ –≤–∏–¥–∏—Ç API
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VITE_API_URL` –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ `git push` Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –ø—Ä–æ–µ–∫—Ç
- –ó–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

## –°—Ç–æ–∏–º–æ—Å—Ç—å

- Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **$5 –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–∞** –≤ –º–µ—Å—è—Ü
- –î–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —ç—Ç–æ–≥–æ –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
- PostgreSQL –±–µ—Å–ø–ª–∞—Ç–µ–Ω –Ω–∞ Railway

## –ì–æ—Ç–æ–≤–æ! üöÄ

–í–∞—à –ø—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –Ω–∞ Railway!
